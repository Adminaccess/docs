(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{178:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return l})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return b}));var n=a(1),o=a(9),i=(a(0),a(227)),r={id:"samikhaBehindTheScenes",title:"Samiksha - Behind the Scenes",author:"Chakshu Gautam",author_title:"Technology @Samagra",author_url:"https://www.linkedin.com/in/chakshu-gautam-6918736b/",author_image_url:"https://media-exp1.licdn.com/dms/image/C5603AQFqf5zRVhvlnA/profile-displayphoto-shrink_400_400/0?e=1596067200&v=beta&t=ODIqK7DKs-TXS6PIhiyNSAEJKe2XBHxEQZKnsWXPC1E",tags:["bureaucrats","govt engineers","govOS"]},l={permalink:"/docs/blog/samikhaBehindTheScenes",source:"@site/blog/2020-05-31-samiksha-behind-the-scenes.md",description:"This is a multipart behind the scenes series on how we built Samiksha and how this led to abstracted reusable technology [components](https://samagra-development.github.io/docs/docs/ComponentsOverview) that we have today.",date:"2020-05-31T00:00:00.000Z",tags:[{label:"bureaucrats",permalink:"/docs/blog/tags/bureaucrats"},{label:"govt engineers",permalink:"/docs/blog/tags/govt-engineers"},{label:"govOS",permalink:"/docs/blog/tags/gov-os"}],title:"Samiksha - Behind the Scenes",truncated:!0,nextItem:{title:"Evolution of Samiksha",permalink:"/docs/blog/evolutionsamiksha"}},s=[{value:"1 Problem Statement",id:"1-problem-statement",children:[]},{value:"2 Design Principles",id:"2-design-principles",children:[]},{value:"3. Navigating in the Open Source World",id:"3-navigating-in-the-open-source-world",children:[{value:"Exploring what is already there",id:"exploring-what-is-already-there",children:[]},{value:"Defining the criteria",id:"defining-the-criteria",children:[]},{value:"The result?",id:"the-result",children:[]}]}],c={rightToc:s};function b(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},c,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"This is a multipart behind the scenes series on how we built Samiksha and how this led to abstracted reusable technology ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://samagra-development.github.io/docs/docs/ComponentsOverview"}),"components")," that we have today."),Object(i.b)("h3",{id:"1-problem-statement"},"1 Problem Statement"),Object(i.b)("p",null,Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://tech.samagragovernance.in/index.php/home/ed-samiksha/"}),"Samiksha")," is an OpenSource product ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"https://samagra-development.github.io/docs/blog/evolutionsamiksha"}),"designed")," to improve school quality control activities conducted by state education department officials in government schools. This typically includes mentoring to support teachers based on observations of their in-class teaching practices and monitoring to inspect the status of infrastructure and quality of school processes such as classroom teaching, availability of teaching learning materials, functional toilets, completion of civil works projects in the school and so on."),Object(i.b)("p",null,"Translating this to tech, it is essentially an ecosystem that gives"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The administration console to build and deploy forms dynamically without updating the app. This also gives you the ability to manage roles, resources and permissions for individual users. This initial work essentially evolved into the ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://samagra-development.github.io/docs/docs/COAppControl"}),"Application console"),"."),Object(i.b)("li",{parentName:"ul"},"The school mentors and monitors an application to fill forms in a secure way. The is what later became the part of the ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://samagra-development.github.io/docs/docs/COMobileApplication"}),"Mobile Application")),Object(i.b)("li",{parentName:"ul"},"the ",Object(i.b)("inlineCode",{parentName:"li"},"program owner")," access to all the raw data on which he can perform analyitics. This analytics and visualization part is the ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://samagra-development.github.io/docs/docs/CODataAnalytics"}),"Data Analytics")," package that we have right now.")),Object(i.b)("h2",{id:"2-design-principles"},"2 Design Principles"),Object(i.b)("p",null,"Our approach to building software is heavily influenced by the need to empower government engineering teams with technology products built using OpenSource tools that they could independently manage in the long term thereby reducing public expenditure, having confident deployments at scale, with any technology, infrastructure or vendor lock-ins. This is why"),Object(i.b)("p",null,"Principle #1 - Build reusable, scalable, extensible & deployable technology products using OpenSource tools Principle #2 - Work with existing government systems, don\u2019t replace them Principle #3 - Strengthen government technology capability, don\u2019t replace it"),Object(i.b)("p",null,"I will be focussing, on Principle #1 here. More importantly, how we chose the exact same Open Source projects to power our program."),Object(i.b)("h2",{id:"3-navigating-in-the-open-source-world"},"3. Navigating in the Open Source World"),Object(i.b)("h3",{id:"exploring-what-is-already-there"},"Exploring what is already there"),Object(i.b)("p",null,"When we set out to build an open source application, we knew that there are four major components to it."),Object(i.b)("p",null,"The four major components for Samiksha are the following."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"The ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://samagra-development.github.io/docs/docs/FormManagementModule"}),"Form management module")),Object(i.b)("li",{parentName:"ol"},"Authentication and Authorization server"),Object(i.b)("li",{parentName:"ol"},Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://samagra-development.github.io/docs/docs/COAppControl"}),"Aplication Control Module")," to manage and use data"),Object(i.b)("li",{parentName:"ol"},Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://samagra-development.github.io/docs/docs/CODataAnalytics"}),"Data Analytics"))),Object(i.b)("p",null,Object(i.b)("img",Object(n.a)({parentName:"p"},{src:"https://samagra-development.github.io/docs/img/SamikshaArchitecture.png",alt:"Architecture"}))," ",Object(i.b)("em",{parentName:"p"},"This is how they connect in the overall structure.")),Object(i.b)("p",null,"The challenge with a lot of OSS projects is not the quality, but interoperatability. Even when you are able to find something that is in a language that you know, you are not able to figure out how to make customizations to the code due to bad (and mostly NO) documentation on the code. Often its more a reflection on how what is your team like and how cutting edge you want (can afford) to be."),Object(i.b)("p",null,"Selecting OSS projects is a science on its own right. With so many choices, it is inevitable that you would end up with decision fatigue."),Object(i.b)("p",null,Object(i.b)("img",Object(n.a)({parentName:"p"},{src:"https://blog.vantagecircle.com/content/images/size/w860/2019/07/decision-fatigue.png",alt:"Chosing an open source project"}))),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"What it is like when you are selcting an open source project")),Object(i.b)("p",null,"If you just go by the number of open source solutions you can build, it would be 20^4 (assuming 20 legit candidates foreach). So how do you choice the one out of 1.6 lakh choices that you have? How do you narrow down choices?"),Object(i.b)("h3",{id:"defining-the-criteria"},"Defining the criteria"),Object(i.b)("p",null,Object(i.b)("img",Object(n.a)({parentName:"p"},{src:"https://miro.medium.com/max/1000/1*9nMBMt-OugnruBr_M-WuEQ.png",alt:"Chosing an open source project"}))),Object(i.b)("p",null,Object(i.b)("em",{parentName:"p"},"Why create a new new standard than using something already there?")),Object(i.b)("p",null,"Even before setting out to select the project, have a concrete idea of what we were looking for in the first place was essential. We listed down the requirements that were essential for each of the components and started mapping them to open source projects. But this was not enough, since a lot of projects were having similar features, so evolved the criteria to include some other parameters to make it more robust so that even a Github bot could check this. Since we were all willing to learn something new (even a new language), the criteria (in priority) apart from the core features that we are looking for was as follows"),Object(i.b)("h4",{id:"must-have"},"Must have"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Active, funded community with frequent (at least a monthly) release - Since we are not a big team, contributing on something straight away making multiple PRs was not something that we could have done. Having an active community leverages their expertise and helps in getting solutions others have already custom built for themselves. Having a huge stackoverflow repository of questions, in a similar way keeps us agile."),Object(i.b)("li",{parentName:"ul"},"Having a fully featured GUI - Debugging based on logs was not something that we could afford. Also having a GUI implemented, gives an example to how to implement the APIs in other use cases."),Object(i.b)("li",{parentName:"ul"},"Code quality and maturity of the project - Anything less than an year was not considered."),Object(i.b)("li",{parentName:"ul"},"An open LICENSE - Open licences like MIT are favourable than others."),Object(i.b)("li",{parentName:"ul"},"Docker based deployment - Deployment being one our design principles, anything without a container was a no go.")),Object(i.b)("h4",{id:"good-to-have"},"Good to have"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Issues and PRs raised - PRs and issues getting closed at a fast rate, was a metric that becomes a proxy of how fast our own issues will be resolved."),Object(i.b)("li",{parentName:"ul"},"Continuous integration status - CI/CD enables more frequent code deployments and helps check for bad code commits. All pushes to master should go through a pipeline. An open source project without one feels unsafe."),Object(i.b)("li",{parentName:"ul"},"A CONTRIBUTING doc - Since we would be modifying a lot of what was already built, it was necessary to have a starting doc that would enable newcomers like us to ramp up faster."),Object(i.b)("li",{parentName:"ul"},"Tests - Tests are essentially an indicator of robustness of the system. But not a deal breaker, they can be added later."),Object(i.b)("li",{parentName:"ul"},"Benchmarking - For a low feature phone taking 100mb for just one app won't fly. Having benchmarks ensures the project is on the path of continuous improvement."),Object(i.b)("li",{parentName:"ul"},"Code styling - This causes troubles for the contributors, 'cause one prefers spaces and another prefers tabs'")),Object(i.b)("p",null,"Though ",Object(i.b)("em",{parentName:"p"},"stargazers")," is something that people generally look for as a proxy for all of the above, we went a step ahead since we would be marrying the thing and using them for a long time. We would also be modifying some of the features heavily so all of the above things were essential for us."),Object(i.b)("h3",{id:"the-result"},"The result?"),Object(i.b)("p",null,"When we were done evaluating everything, we were left with these four choices."),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null})),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Component/Module"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Choice 1"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Choice 2"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Choice 3"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"1"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("a",Object(n.a)({parentName:"td"},{href:"https://samagra-development.github.io/docs/docs/FormManagementModule"}),"Form management")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ODK"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"2"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Identity Server"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"FusionAuth"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Gluu"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"OpenAM")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"3"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("a",Object(n.a)({parentName:"td"},{href:"https://samagra-development.github.io/docs/docs/COAppControl"}),"Application Console")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ReactAdmin"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"4"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),Object(i.b)("a",Object(n.a)({parentName:"td"},{href:"https://samagra-development.github.io/docs/docs/CODataAnalytics"}),"Analytics and Visualization")),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Metabase"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"Superset"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}))))),Object(i.b)("p",null,"Now since we had just 6 choices, we narrowed down to one based on the stack that we felt most comfortable with. React being one of them, Java being the other. So the final choices were, ",Object(i.b)("strong",{parentName:"p"},"FusionAuth")," for ",Object(i.b)("em",{parentName:"p"},"ItentityServer")," and ",Object(i.b)("strong",{parentName:"p"},"Metabase")," for ",Object(i.b)("em",{parentName:"p"},"Visualization"),"."),Object(i.b)("p",null,"Now that we had made a bet on the above platforms, the next step was to figure out how to make a seamless integration of all these technologies such that everything is secure and ready to go. But we will take this up in the next post."))}b.isMDXComponent=!0},227:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return m}));var n=a(0),o=a.n(n);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var c=o.a.createContext({}),b=function(e){var t=o.a.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):l({},t,{},e)),a},h=function(e){var t=b(e.components);return o.a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},p=Object(n.forwardRef)((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,r=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),h=b(a),p=n,m=h["".concat(r,".").concat(p)]||h[p]||u[p]||i;return a?o.a.createElement(m,l({ref:t},c,{components:a})):o.a.createElement(m,l({ref:t},c))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,r=new Array(i);r[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,r[1]=l;for(var c=2;c<i;c++)r[c]=a[c];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,a)}p.displayName="MDXCreateElement"}}]);