(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{181:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return p}));var a=n(1),r=n(9),o=(n(0),n(222)),i={id:"deploysamwad",title:"Deploy Your Own Samwad",sidebar_label:"Deploy Samwad"},l={id:"deploysamwad",title:"Deploy Your Own Samwad",description:"## 1. Overview",source:"@site/docs/Deploy Samwad.md",permalink:"/docs/docs/deploysamwad",editUrl:"https://github.com/Samagra-Development/docs/edit/master/docs/Deploy Samwad.md",sidebar_label:"Deploy Samwad",sidebar:"someSidebar",previous:{title:"Deploy Your Own Samikhsa",permalink:"/docs/docs/deploysamiksha"},next:{title:"Deploy Your Own Pariksha",permalink:"/docs/docs/deploypariksha"}},c=[{value:"1. Overview",id:"1-overview",children:[{value:"Overall Architecture",id:"overall-architecture",children:[]}]},{value:"2. Setting up the backend",id:"2-setting-up-the-backend",children:[]},{value:"3. Setting up the app",id:"3-setting-up-the-app",children:[]},{value:"4. Need more help??",id:"4-need-more-help",children:[]},{value:"5. FAQs",id:"5-faqs",children:[]}],s={rightToc:c};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"1-overview"},"1. Overview"),Object(o.b)("h3",{id:"overall-architecture"},"Overall Architecture"),Object(o.b)("h2",{id:"2-setting-up-the-backend"},"2. Setting up the backend"),Object(o.b)("p",null,"Backend setup requires you to setup four servers, the steps for which are as follows."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Setting up ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://fusionauth.io/"}),"FusionAuth")," 1. Setting up Fusionauth server - Please use the official ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://fusionauth.io/docs/v1/tech/installation-guide/"}),"guide")," to install fusionauth servers. 2. Adding users to the system - Samwad has no user registraction so, depending on the backend/language that you prefer, users can be added in a variety of ways. We recommend using this ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://fusionauth.io/docs/v1/tech/apis/users#import-users"}),"API"),".")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"Setting up ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.getodk.org/aggregate-intro/"}),"ODK Aggregate")," 1. ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.getodk.org/aggregate-install/"}),"Installation")," 2. Add ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://drive.google.com/drive/folders/1wgh25L_YyOi5y2vdPGahC9V1wjOLRna0"}),"these")," forms to ODK. Note: You need to upload the ",Object(o.b)("inlineCode",{parentName:"p"},".xml")," files and the ",Object(o.b)("inlineCode",{parentName:"p"},".xls")," file are for form building only. You will need to add the relevant csv assets to the forms as well.")),Object(o.b)("li",{parentName:"ol"},Object(o.b)("p",{parentName:"li"},"The next step is setting up which forms the users will see when they open the app. Setting the following remote config for the app on Firebase with ",Object(o.b)("inlineCode",{parentName:"p"},"all")," as the key name will ensure they see these 5 forms."))),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'[\n  {\n    "FormID": "esamwad_meeting",\n    "FormName": "\u092e\u0940\u091f\u093f\u0902\u0917 (Meetings)"\n  },\n  {\n    "FormID": "esamwad_holiday",\n    "FormName": "\u091b\u0941\u091f\u094d\u091f\u093f\u092f\u093e\u0902 (Holiday)"\n  },\n  {\n    "FormID": "esamwad_homework",\n    "FormName": "\u0917\u0943\u0939\u0915\u093e\u0930\u094d\u092f  (Homework)"\n  },\n  {\n    "FormID": "esamwad_exam",\n    "FormName": "\u0906\u0915\u0932\u0928 \u0915\u0940 \u0918\u094b\u0937\u0923\u093e (Assessment Announcement)"\n  },\n  {\n    "FormID": "esamwad_attendance",\n    "FormName": "\u0909\u092a\u0938\u094d\u0925\u093f\u0924\u093f (Attendance)"\n  }\n]\n')),Object(o.b)("ol",{start:4},Object(o.b)("li",{parentName:"ol"},"Setting up backend connectors and servers. All this can be done using the ",Object(o.b)("inlineCode",{parentName:"li"},"docker-compose.yml")," file which can be found ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/Samagra-Development/Samwad-backend"}),"here"),". What it essentially does is installs the following things. ",Object(o.b)("em",{parentName:"li"},"[Note: You are free to change the docker file here to increase the capacity of the servers or choose a different deployment strategy depending on the scale.]")," 1. Setting up production PSQL database 2. Setting up production Redis cache 3. Setting up the Memcached server 4. ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/Samagra-Development/MS-OTP"}),"Setting up the OTP server")," 5. Setting up the relay server 6. Setting up the StudentList service 1. Setting up Google Cloud Storage 2. Installing the StudentList service 7. Setting up the ODK ETL Connector 8. Settting up the SMS Manager")),Object(o.b)("h2",{id:"3-setting-up-the-app"},"3. Setting up the app"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Adding the form management module and configuring forms 1. Setting form list button 2. Setting up the submission screen button",Object(o.b)("ol",Object(a.a)({parentName:"li"},{start:2}),Object(o.b)("li",{parentName:"ol"},"Setting up the cascading dropdown",Object(o.b)("ol",{parentName:"li"},Object(o.b)("li",{parentName:"ol"},"Adding the gzip file of locations to raw files directory"),Object(o.b)("li",{parentName:"ol"},"Linking the gzip file to cascading dropdown module"),Object(o.b)("li",{parentName:"ol"},"Testing the cascading dropdown"))),Object(o.b)("li",{parentName:"ol"},"Setting up the student list download module"),Object(o.b)("li",{parentName:"ol"},"Setting up the Track SMS module."),Object(o.b)("li",{parentName:"ol"},"Setting up autofill",Object(o.b)("ol",Object(a.a)({parentName:"li"},{start:4}),Object(o.b)("li",{parentName:"ol"},"Testing autofill of user data in forms."))),Object(o.b)("li",{parentName:"ol"},"Adding the login screen",Object(o.b)("ol",{parentName:"li"},Object(o.b)("li",{parentName:"ol"},"Setting up login screen"),Object(o.b)("li",{parentName:"ol"},"Connecting FusionAuth to the server"),Object(o.b)("li",{parentName:"ol"},"Testing the login screen"))),Object(o.b)("li",{parentName:"ol"},"Setting up profile screen",Object(o.b)("ol",{parentName:"li"},Object(o.b)("li",{parentName:"ol"},"Setting up the backend server"),Object(o.b)("li",{parentName:"ol"},"Testing the OTP and reset password."))),Object(o.b)("li",{parentName:"ol"},"Setting up the about us screen")))),Object(o.b)("h2",{id:"4-need-more-help"},"4. Need more help??"),Object(o.b)("p",null,"Some of the packages will be added in the coming weeks. Please contact us if you need urgent support in deploying this."),Object(o.b)("h2",{id:"5-faqs"},"5. FAQs"))}p.isMDXComponent=!0},222:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),p=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l({},t,{},e)),n},d=function(e){var t=p(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},u=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=p(n),u=a,m=d["".concat(i,".").concat(u)]||d[u]||b[u]||o;return n?r.a.createElement(m,l({ref:t},s,{components:n})):r.a.createElement(m,l({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=u;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);